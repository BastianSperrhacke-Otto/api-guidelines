# Config ID: issues.assigned
# 
# This configuration file is auto-generated
# by http://github.com/otto-ec/assets_protecty.
# 
# Do not modify this file unless you know what you do.
# All changes will be overwritten during next update run.
# 
# If you need to modify this file permanently then place your configuration overrides in
# - .github/gitty.yml#/configs/issues/assigned,
# 
# and use the schema appropriate to this file.
# See http://github.com/otto-ec/assets_protecty#readme for more details and documentation.
# 
# This config can be affected by these presets: base, default, terraform, non-assets
# 
name: Assigned Issue to Assets
"on":
  issues:
    types:
      - assigned
jobs:
  process:
    runs-on: ubuntu-latest
    steps:
      - uses: jurijzahn8019/action-is-user-member-of-teams@v0.0.56
        id: checker
        if: ${{ !startsWith(github.event.repository.name, 'assets_') }}
        with:
          token: ${{ secrets.TOKEN_GITHUB }}
          username: ${{ github.event.assignee.login }}
          teams: otto-ec/assets
      - uses: jurijzahn8019/action-is-issue-on-board@v0.0.51
        id: isOnBoard
        if: ${{ startsWith(github.event.repository.name, 'assets_') }}
        with:
          token: ${{ secrets.TOKEN_GITHUB }}
          owner: ${{ github.repository_owner }}
          board: Team Assets
          repo: ${{ github.event.repository.name }}
          number: ${{ github.event.issue.number }}
      - uses: alex-page/github-project-automation-plus@v0.8.1
        if: >-
          ${{ steps.checker.outputs.ismember == 'true' &&
          steps.isOnBoard.outputs.columnName == 'Pool' }}
        with:
          project: Team Assets
          column: To do
          repo-token: ${{ secrets.TOKEN_GITHUB }}
